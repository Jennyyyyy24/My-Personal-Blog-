<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>MyLearning Diary — Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Quicksand:wght@300;400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    :root{
      --pink:#f2a5b7;
      --accent:#f9c7d4;
      --brown:#8b5f5c;
      --ivory:#fff8f7;
      --card:#fffefc;
      --muted:#6f5652;
      --soft-border:rgba(139,95,92,0.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Quicksand",system-ui;
      background:linear-gradient(180deg,var(--ivory),#fff2f3 60%);
      color:var(--muted);
      padding:18px;
    }
    header{max-width:1200px;margin:0 auto 12px auto;text-align:center}
    header h1{font-family:"Playfair Display";color:var(--brown);margin:0;font-size:22px}
    header p{font-size:13px;color:#8c6b6b;margin:4px 0 0}
 .wrap {
  display: grid;
  grid-template-columns: 260px 1fr 360px;
  gap: 18px;
  align-items: start;
}
.center {
  display: flex;
  flex-direction: column;
  gap: 18px;
}
.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
}
    .card{background:linear-gradient(180deg,var(--card),#fffaf9);padding:14px;border-radius:14px;border:1px solid var(--soft-border);box-shadow:0 10px 24px rgba(139,95,92,0.04)}

    /* avatar */
    .avatar{width:100%;height:160px;border-radius:12px;background:linear-gradient(135deg,var(--pink),#ffdfe6);display:flex;align-items:center;justify-content:center;color:var(--brown);font-family:"Playfair Display";font-size:36px;margin-bottom:8px;overflow:hidden;position:relative;}
    .avatar img{width:100%;height:100%;object-fit:cover;border-radius:12px;}
    #changePhotoBtn{display:inline-block;background:linear-gradient(90deg,var(--pink),#ec8aa6);color:#fff;border:none;padding:8px 12px;border-radius:20px;cursor:pointer;font-size:13px;font-weight:600;margin-bottom:12px;box-shadow:0 4px 8px rgba(242,165,183,0.2);transition:all .2s ease;}
    #changePhotoBtn:hover{transform:scale(1.03);}
    #avatarInput{display:none;}
    .avatar .edit-btn{
      position:absolute;
      top:8px;
      right:8px;
      background:rgba(255,255,255,0.9);
      color:var(--brown);
      border-radius:10px;
      padding:6px 8px;
      font-size:12px;
      border:1px solid rgba(139,95,92,0.06);
      cursor:pointer;
      box-shadow:0 6px 12px rgba(0,0,0,0.04);
    }

    .profile-info{margin-top:6px;font-size:14px;color:var(--brown);font-family:"Playfair Display";text-align:center}
    .profile-sub{font-size:12px;color:#8b6b6b;margin-top:4px;text-align:center}

    .editable-input{width:100%;padding:8px 10px;border-radius:10px;border:1px solid rgba(139,95,92,0.08);background:rgba(255,255,255,0.85);color:var(--muted)}
    .tiny{font-size:13px;color:#8b6b6b}
    .ghost-btn{background:transparent;border:1px dashed rgba(139,95,92,0.08);padding:8px 10px;border-radius:10px;color:var(--brown);cursor:pointer}
    .save-btn{background:linear-gradient(90deg,var(--pink),#ec8aa6);color:#fff;border:none;padding:10px 14px;border-radius:22px;cursor:pointer;font-weight:700}
    .mood-btn{background:transparent;border:1px solid rgba(139,95,92,0.08);padding:8px 12px;border-radius:10px;cursor:pointer;color:#8a6b6b}
    .mood-btn.selected{background:linear-gradient(90deg,var(--pink),var(--accent));color:var(--brown);box-shadow:0 6px 12px rgba(242,165,183,0.12)}
    textarea,input[type="date"],input[type="text"]{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(139,95,92,0.08);background:rgba(255,255,255,0.9)}
    .entries{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;margin-top:10px}
    .calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin-top:10px}
    .cal-headcell{font-weight:700;text-align:center;font-size:12px;color:#8b6b6b;padding:6px 4px}
    .cal-cell{min-height:60px;border-radius:10px;background:linear-gradient(180deg,#fff,#fff7f7);border:1px solid rgba(139,95,92,0.03);padding:6px;position:relative;cursor:pointer;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}
    .cal-cell.muted{opacity:0.45}
    .cal-cell.today{outline:2px solid rgba(242,165,183,0.22);box-shadow:0 6px 12px rgba(242,165,183,0.06)}
    .cal-daynum{font-weight:700;color:var(--brown);font-size:13px;margin-bottom:6px}
    .dot{width:8px;height:8px;background:var(--brown);border-radius:50%;position:absolute;bottom:8px;right:8px;opacity:0.9}
    /* polaroids */
    .polaroid-grid{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:10px}
    .polaroid{background:#fff;border:8px solid var(--accent);border-bottom:40px solid var(--accent);border-radius:6px;width:160px;height:180px;box-shadow:0 10px 20px rgba(242,165,183,0.25);position:relative;overflow:hidden;text-align:center;transition:transform .25s ease;}
    .polaroid:hover{transform:rotate(-2deg) scale(1.02);}
    .polaroid img{width:100%;height:140px;object-fit:cover;border-radius:4px 4px 0 0;}
    .polaroid .caption{position:absolute;bottom:6px;width:100%;font-family:"Playfair Display";color:var(--brown);font-size:13px;text-align:center;}
    footer{text-align:center;color:#8b6b6b;font-size:13px;margin-top:30px}

    @media(max-width:1080px){.wrap{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header>
    <h1>My Personal Blog ˚₊‧♡‧₊˚</h1>
    <p>a gentle space to note your thoughts, track your moods & breathe.</p>
  </header>

<main class="wrap">
  <!-- LEFT SIDE -->
  <aside class="card" aria-label="profile">
    <div class="avatar" id="avatar">
      <span>✧</span>
      <button class="edit-btn" id="avatarEditBtn" title="Edit profile photo" style="display:none">✎</button>
    </div>
    <button id="changePhotoBtn" class="save-btn">ADD PROFILE ✧</button>
    <input type="file" id="avatarInput" accept="image/*" style="display:none;">

    <div id="profileForm">
      <label class="tiny" for="profileName">Name</label>
      <input id="profileName" class="editable-input" placeholder="your name ໒꒱">

      <label class="tiny" for="profileDOB" style="margin-top:8px">DOB</label>
      <input id="profileDOB" type="date" class="editable-input">

      <label class="tiny" style="margin-top:8px">Hobbies (optional)</label>
      <input id="profileHobbies" class="editable-input" placeholder="reading, sketching">

      <button id="saveProfile" class="ghost-btn" style="margin-top:8px;">save ✧</button>
    </div>

    <div class="profile-info" id="profileInfo" style="display:none">
      <div id="profileDisplayName"></div>
      <div id="profileDisplayDOB" class="profile-sub"></div>
    </div>

    <h3 style="font-family:'Playfair Display';color:var(--brown);margin-top:20px;">Sticky Notes ♡</h3>
    <textarea id="stickyInput" class="editable-input" placeholder="write a short note..."></textarea>
    <button id="addSticky" class="save-btn" style="margin-top:6px;">add note ✧</button>
    <div id="stickyList" style="margin-top:10px;font-size:13px;"></div>

    <h3 style="font-family:'Playfair Display';color:var(--brown);margin-top:20px;">Entries ✧</h3>
    <div id="entriesList" style="font-size:13px;"></div>
    <button id="exportBtn" class="ghost-btn" style="margin-top:12px;">⋆ export to PDF</button>
  </aside>

  <!-- CENTER COLUMN -->
  <section class="center">
    <!-- Diary Section -->
    <section class="card diary" aria-label="diary">
      <h2 style="font-family:'Playfair Display';color:var(--brown)">My Diary ✧</h2>
      <input type="date" id="entryDate">
      <div id="moodButtons" class="moods" style="margin-top:8px;">
        <button class="mood-btn" data-symbol="✧">✧ reflective</button>
        <button class="mood-btn" data-symbol="♡">♡ calm</button>
        <button class="mood-btn" data-symbol="❀">❀ happy</button>
        <button class="mood-btn" data-symbol="⋆">⋆ excited</button>
        <button class="mood-btn" data-symbol="໒꒱">໒꒱ tired</button>
      </div>
      <textarea id="diaryText" placeholder="a small note, what I learnt today..." style="margin-top:10px;"></textarea>
      <button id="saveDiary" class="save-btn" style="margin-top:10px;">save entry ✧</button>
    </section>

    <!-- Polaroid Wall -->
    <section class="card" aria-label="polaroid" style="text-align:center;">
      <h2 style="font-family:'Playfair Display';color:var(--brown);margin-bottom:8px;">Polaroid Wall ❀</h2>
      <input id="noteTitle" placeholder="your memory or thought..." class="editable-input" style="max-width:80%;margin:auto;">

      <!-- cute choose photo button -->
      <label for="polaroidImage" id="polaroidLabel" class="save-btn" style="display:inline-block;margin-top:10px;cursor:pointer;">
        choose photo ✧
      </label>
      <input type="file" id="polaroidImage" accept="image/*" style="display:none;">

      <button id="addCard" class="save-btn" style="margin-top:10px;">add polaroid ✧</button>
      <div id="polaroidWall" class="polaroid-grid" style="margin-top:12px; width:100%; justify-content:center;"></div>
    </section>
  </section>

  <!-- RIGHT COLUMN -->
  <aside class="card" aria-label="tools">
    <h3 style="font-family:'Playfair Display';color:var(--brown)">Calendar ✧</h3>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:6px">
      <button id="prevMonth" class="ghost-btn">◀</button>
      <div id="calTitle" style="font-weight:700;color:var(--brown)">Month</div>
      <button id="nextMonth" class="ghost-btn">▶</button>
    </div>
    <div id="calendarGrid" class="calendar-grid" style="margin-top:10px;"></div>

    <hr style="margin:14px 0;border:none;border-top:1px solid rgba(139,95,92,0.04)">

    <h3 style="font-family:'Playfair Display';color:var(--brown)">Mind Dump ♡</h3>
    <textarea id="mindDump" placeholder="thoughts, worries, random ideas..."></textarea>
    <button id="saveMind" class="save-btn" style="margin-top:6px;">save ✧</button>
    <div id="mindList" style="margin-top:10px;font-size:13px;"></div>

    <h3 style="font-family:'Playfair Display';color:var(--brown);margin-top:14px;">To-Do List ⋆</h3>
    <input id="todoInput" class="editable-input" placeholder="new task...">
    <button id="addTodo" class="save-btn" style="margin-top:6px;">add ✧</button>
    <div id="todoList" style="margin-top:10px;font-size:13px;"></div>

    <h3 style="font-family:'Playfair Display';color:var(--brown);margin-top:14px;">Daily Routine ❀</h3>
    <input id="routineInput" class="editable-input" placeholder="add routine...">
    <button id="addRoutine" class="save-btn" style="margin-top:6px;">add ✧</button>
    <div id="routineList" style="margin-top:10px;font-size:13px;"></div>
  </aside>
</main>

  <footer>✧ made with care • MyLearning Diary ˚₊‧♡‧₊˚</footer>

<script>
(function(){
  const load=(k,d)=>{try{return JSON.parse(localStorage.getItem(k))||d;}catch(e){return d;}}
  const save=(k,v)=>localStorage.setItem(k,JSON.stringify(v));
  const todayISO=()=>new Date().toISOString().slice(0,10);

  const calendarGrid=document.getElementById('calendarGrid');
  const calTitle=document.getElementById('calTitle');
  const prevMonth=document.getElementById('prevMonth');
  const nextMonth=document.getElementById('nextMonth');

  const KEY_DIARY='mld_diary';
  let currentCalendar=new Date();

  function isoFromDate(d){
    return `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`;
  }

  function renderCalendar(d){
    currentCalendar=new Date(d.getFullYear(),d.getMonth(),1);
    const y=currentCalendar.getFullYear(), m=currentCalendar.getMonth();
    const months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    calTitle.textContent=`${months[m]} ${y}`;
    const firstWeekday=new Date(y,m,1).getDay();
    const daysInMonth=new Date(y,m+1,0).getDate();
    const prevMonthDays=new Date(y,m,0).getDate();
    const store=load(KEY_DIARY,{});

    calendarGrid.innerHTML='';
    const dow=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
    dow.forEach(n=>{
      const h=document.createElement('div');
      h.className='cal-headcell';
      h.textContent=n;
      calendarGrid.appendChild(h);
    });

    for(let i=0;i<42;i++){
      const cell=document.createElement('div');
      cell.className='cal-cell';
      const dayIndex=i-firstWeekday+1;
      let cellDateStr, displayDay;
      if(dayIndex<=0){
        displayDay=prevMonthDays+dayIndex;
        cell.classList.add('muted');
        const prevDate=new Date(y,m-1,displayDay);
        cellDateStr=isoFromDate(prevDate);
      }else if(dayIndex>daysInMonth){
        displayDay=dayIndex-daysInMonth;
        cell.classList.add('muted');
        const nextDate=new Date(y,m+1,displayDay);
        cellDateStr=isoFromDate(nextDate);
      }else{
        displayDay=dayIndex;
        cellDateStr=`${y}-${String(m+1).padStart(2,'0')}-${String(displayDay).padStart(2,'0')}`;
      }

      const dayNum=document.createElement('div');
      dayNum.className='cal-daynum';
      dayNum.textContent=displayDay;
      cell.appendChild(dayNum);

      if(store[cellDateStr]){
        const dot=document.createElement('span');
        dot.className='dot';
        cell.appendChild(dot);
      }

      if(cellDateStr===todayISO()) cell.classList.add('today');
      calendarGrid.appendChild(cell);
    }
  }

  prevMonth.addEventListener('click',()=>renderCalendar(new Date(currentCalendar.getFullYear(),currentCalendar.getMonth()-1,1)));
  nextMonth.addEventListener('click',()=>renderCalendar(new Date(currentCalendar.getFullYear(),currentCalendar.getMonth()+1,1)));

  // initialize the calendar on page load
  renderCalendar(new Date());
})();
</script>

</body>
</html>